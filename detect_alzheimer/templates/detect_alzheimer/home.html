<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="alzheimer-icon" sizes="76x76" href="/media/assets/img/logo.jpg">
  <link rel="icon" type="image/png" href="/media/assets/img/logoalzheimer.jpg">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>
    Alzheimer AI
  </title>
  <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
  <!--     Fonts and icons     -->
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <!-- CSS Files -->
  <link href="/media/assets/css/material-kit.css?v=2.0.4" rel="stylesheet" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="/media/assets/demo/demo.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
</head>

<body class="index-page sidebar-collapse">

  <nav class="navbar navbar-transparent navbar-color-on-scroll fixed-top navbar-expand-lg" color-on-scroll="100" id="sectionsNav">
    <div class="container">
      <div class="navbar-translate">
        <a class="navbar-brand" href="javascript:void(0);">
          Alzheimer AI </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="sr-only">Toggle navigation</span>
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="https://www.facebook.com/sriwijayacreativitycentre" target="_blank" data-original-title="Bergabung bersama kami di Facebook">
              <i class="fa fa-facebook-square"></i>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" rel="tooltip" title="" data-placement="bottom" href="https://www.instagram.com/sriwijayacreativitycentre" target="_blank" data-original-title="Follow kami di Instagram">
              <i class="fa fa-instagram"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  
  <div class="page-header header-filter clear-filter purple-filter" data-parallax="true" style="background-image: url('/media/assets/img/logo.png');">
    <div class="container">
      <div class="row">
        <div class="col-md-8 ml-auto mr-auto">
          <div class="brand">
            <h1>ALZHEIMER AI</h1>
            <h3>Supervisor : Rossi Passarella, M.Eng
              <br> 
              Ketua Tim : Raden Ayu Dwi Puspa Anjani
              <br>
              Anggota Tim : Faransi Al Azdi & Cynthia Caroline</h3>
            <a href="#upload" class="btn btn-rose">Mulai Prediksi</a>
          </div>
        </div>
      </div>
    </div>
  </div>


  <div class="main main-raised">
    <div id="upload" class="section section-basic">
      <div class="container">
        <div class="title">
          <h2>Alzheimer Disease Recognition</h2>
        </div>
        <!--  buttons -->
        <div id="buttons" class="cd-section">
          <div class="row">
            <div class="col-md-6 ml-auto mr-auto">
               <div class="title">
                  <h3>Upload MRI Image
                  </h3>
                </div>
                <div class="row">
                    <div class="col-md-6 ml-auto mr-auto">
                      <img id="img_preview" src="/media/assets/img/no_image.png" alt="No Image" style="width: 176px;">
                      <br>
                      <small id="file_name"></small>
                    </div>

                    <div class="col-md-6 ml-auto mr-auto">
                      <button type="button" data-toggle="modal" data-target="#add_data_Modal" class="btn btn-primary">Isi Data Pasien</button>
                      <button id="upload_btn" class="btn btn-primary">Upload Image</button>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6 ml-auto mr-auto">
                <div class="title">
                  <h3>Result
                  </h3>
                </div>

                <blockquote class="blockquote">
                    <p id="result" class="mb-0">Upload Citra MRI untuk melihat hasil</p>
                </blockquote>

              </div>
          </div>
      </div>
    </div>
    </div>
  </div>



  <footer class="footer" data-background-color="black">
    <div class="container">
      <nav class="float-left">
        <ul>
          <li>
            <a href="#">
              ALZHEIMER AI didukung oleh
            </a>
          </li>
          <li>
            <a href="https://ristekdikti.go.id/">
              Kementerian Riset, Teknologi, Dan Pendidikan Tinggi Republik Indonesia
            </a>
          </li>
          <li>
              <a href="#">
                dan
              </a>
            </li>
          <li>
            <a href="https://unsri.ac.id">
              Universitas Sriwijaya
            </a>
          </li>
        </ul>
      </nav>
      <div class="copyright float-right">
        &copy;
        <script>
          document.write(new Date().getFullYear())
        </script>
      </div>
    </div>
  </footer>


  <form id="uploadFileForm" enctype="multipart/form-data">
    <input type="file" id="uploadFile" accept="image/x-png,image/jpeg" name="image" style="display:none;" />
  </form>


  <!--   Core JS Files   -->
  <script src="/media/assets/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="/media/assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="/media/assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
  <script src="/media/assets/js/plugins/moment.min.js"></script>
  <!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
  <script src="/media/assets/js/plugins/bootstrap-datetimepicker.js" type="text/javascript"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="/media/assets/js/plugins/nouislider.min.js" type="text/javascript"></script>
  <!--	Plugin for Sharrre btn -->
  <script src="/media/assets/js/plugins/jquery.sharrre.js" type="text/javascript"></script>
  <!-- Control Center for Material Kit: parallax effects, scripts for the example pages etc -->
  <script src="/media/assets/js/material-kit.js?v=2.0.4" type="text/javascript"></script>
</body>


<div id="add_data_Modal" class="modal fade">
    <div class="modal-dialog">
     <div class="modal-content">
      <div class="modal-header">
       <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
       <form method="post" id="insert_form">
        <label>Nama Pasien</label>
        <input type="text" name="name" id="name" class="form-control" />
        <br />
        <label>Usia</label>
        <input type="text" name = "age" id="age" class="form-control" />
        <br />
        <label>Jenis Kelamin</label>
        <select name="gender" id="gender" class="form-control">
         <option value="Male">Laki-Laki</option>
         <option value="Female">Perempuan</option>
        </select>
        <br />
        <label>Keluhan Utama</label>
        <input type="text" name="keluhan" id="keluhan" class="form-control" />
        <br />
        <label>Tekanan Darah</label>
        <input type="text" name="tekanan" id="tekanan" class="form-control" />
        <br />
        <label>Skor MMSE</label>
        <input type="text" name="skor" id="skor" class="form-control" />
        </select>
        <br />
        <label>Panjang Kepala</label>
        <input type="text" name="panjang" id="panjang" class="form-control" />
        </select>
        <br />
        <input type="submit" name="insert" id="insert" value="Insert" class="btn btn-success" />
      </form>
      </div>
      <div class="modal-footer">
       <button type="button" class="btn btn-default" data-dismiss="modal">Tutup</button>
      </div>
     </div>
    </div>
   </div>



<script>

     $("#upload_btn").click(function () {
       $('#uploadFile').click();
     });

     function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
              $('#img_preview').attr('src', e.target.result);
            }
            reader.readAsDataURL(input.files[0]);
        }
      }

      $('#uploadFile').on( 'change', function () {
            readURL(this);
            var fd = new FormData($('uploadFileForm'));
            var files = this.files[0];
            fd.append('image',files);
            $.ajax({
                url: "http://127.0.0.1:8000/predict_json/",
                type: 'POST',
                data: fd,
                contentType: false,
                processData: false,
                beforeSend: function(){
                  console.log('before send');
                },
                success: function(response){
                  $('#uploadFileForm')[0].reset();
                  var opt = 'Hasil pengenalan oleh sistem <strong>Alzheimer AI</strong> menyatakan citra MRI <strong>' + response.filename + '</strong> adalah <strong>' + response.label +' </strong> dengan akurasi sebesar <strong>' + response.confidence + '%</strong>.'
                  $('#result').html(opt);
                },
                complete:function(data){
                  console.log('completed')
                }
            });
          });
 </script>

</html>